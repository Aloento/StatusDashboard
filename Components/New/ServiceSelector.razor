@{
  var items = new List<RegionalService>
  {
    new()
    {
      Id = 1, Name = "Service 1", Regions =
      [
        new() { Id = 1, Name = "Region 1", Selected = false },
        new() { Id = 2, Name = "Region 2", Selected = false }
      ]
    },
    new()
    {
      Id = 2, Name = "Service 2", Regions =
      [
        new() { Id = 1, Name = "Region 1", Selected = false },
        new() { Id = 2, Name = "Region 2", Selected = false }
      ]
    },
    new()
    {
      Id = 3, Name = "Service 3",Regions =
      [
        new() { Id = 1, Name = "Region 1", Selected = true },
        new() { Id = 2, Name = "Region 2", Selected = false }
      ]
    },
  }.AsQueryable();
}

<FluentDataGrid
  TGridItem="RegionalService"
  Items="@items"
  ItemKey="@(x => x.Id)">

  <PropertyColumn
    Property="@(x => x.Name)"
    Title="@nameof(RegionalService.Name)" />

  @foreach (var i in items.First().Regions)
  {
    <TemplateColumn
      Title="@i.Name"
      TGridItem="RegionalService">
      <FluentCheckbox ValueChanged="@(x => { context.Regions.Single(y => y.Name == i.Name).Selected = x; })" />
    </TemplateColumn>
  }
</FluentDataGrid>

@code {
  public class RegionalService
  {
    public required int Id { get; set; }

    public required string Name { get; set; }

    public required List<RegionItem> Regions { get; set; }
  }

  public class RegionItem
  {
    public required int Id { get; set; }

    public required string Name { get; set; }

    public bool Selected { get; set; }
  }
}
